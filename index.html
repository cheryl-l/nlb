<html>
<head>

<title>
    Libraries
</title>
<!--webpage name-->
<!-- <link rel = "icon" href = "assets/logob.png"> -->
<!--webpage icon-->

<link href="https://fonts.googleapis.com/css?family=Titillium Web" rel="stylesheet">
<link rel = "stylesheet" type = "text/css" href = "style.css">
<!-- <script src = "main.js"> </script> -->
<!--link CSS to html-->
</head>


<div class = "navigation-bar">
   <a href="#"  id = "logo-name"> <img src = "assets/empty.png" id ="logo" alt="">  spacesheep </a>
   <div class = "navigation-bar-right">
  <a href="#cubesat">CubeSat</a>
  <a href="#space-technology">Space Technology</a>
  <a href="details.html">Details</a>
  <button id = "switch" onclick="toggleTheme()">  </button>
  </div>
</div>


<div class="landing-image">
  <div class="landing-text">
    <h1>Welcome to spacesheep's</h1>
    <p>Want to learn more about space? Look no further! Click below to find out what spacesheep is all about. </p>
    <a href="https://youtu.be/7nAuZCyqeXs"><button>Watch the Video</button></a>
  </div>
</div>




<div class = "tiled-list">
    <h2> Libraries </h2>

<div class = "tiles" id = "tiles">
<!--      <div class = "tile" id = "tile">
        <a id = "pagelink">
             <img src = "https://www.nlb.gov.sg/Portals/0/library/gallery/AngMoKio/MAIN-PICTURE-of-AMPL-cropped.jpg" alt="testing" id = "thumbnail">
        <h3 id = "name"> Introduction to CubeSat </h3>
        </a>
    </div> -->
</div>
</div>


<script>
window.addEventListener("load", function() {
		getRows();
	});

function getRows() {
		var xmlhttp = new XMLHttpRequest();
		xmlhttp.open("get", "libraries.xml", true);
		xmlhttp.onreadystatechange = function() {
			if (this.readyState == 4 && this.status == 200) {
				showResult(this);
			}
		};
		xmlhttp.send();
  }

function showResult(xmlhttp){
  var xmlDoc = xmlhttp.responseXML.documentElement;
	removeWhitespace(xmlDoc);
  var library = xmlDoc.getElementsByTagName("item");

  for (var i = 0; i < library.length; i++) {
    console.log(library[i].childNodes[0].childNodes[0].nodeValue);
    var tile = document.createElement("tile");
    var name = document.createElement("h3");
    var thumbnail = document.createElement("img");
    var pagelink = document.createElement("a");
    name.innerHTML = library[i].childNodes[0].childNodes[0].nodeValue;
    thumbnail.src = library[i].childNodes[4].childNodes[0].nodeValue;
    pagelink.href = "https://www.youtube.com"; //can replace with some link + branch code
    pagelink.appendChild(thumbnail);
    pagelink.appendChild(name);
    tile.appendChild(pagelink);
    tile.className = "tile";
    document.getElementById("tiles").appendChild(tile);
  }


}

function removeWhitespace(xml) {
	var loopIndex;
	for (loopIndex = 0; loopIndex < xml.childNodes.length; loopIndex++)
	{
		var currentNode = xml.childNodes[loopIndex];
		if (currentNode.nodeType == 1)
		{
			removeWhitespace(currentNode);
		}
		if (!(/\S/.test(currentNode.nodeValue)) && (currentNode.nodeType == 3))
		{
			xml.removeChild(xml.childNodes[loopIndex--]);
		}
	}
}
</script>



<div class = "footer">
<!--     <a href="https://www.dsta.gov.sg/spacecube" style = "padding: 0 20 0 5"><img src = "assets/spacecube.png" alt="" style="float:left;width:auto;height:7.5vh; margin-top:0.25vh; margin-right: 20px"> SpaceCube Mission </a> -->
    <div class = "footer-right">
        <a href="#">Back to Top</a>
    </div>

</div>





</html>
